    
dataDefs:

  booksData:
    defs:
      books:        
        query:
          block: "section ol > li:nth-child(%{item.book.index}) > article"
        items: [ 
          item: { name: "book", indexRange: 1-10 },
        ]
        dim: [ 
          item: { name: "title", selector: "h3 > a attribute: title" },
          item: { name: "price", selector: "p[class='price_color']" },          
          item: { name: "date", script: "document.getFromDate()" },
        ]
           
  booksLink:
    defs:
      booksLink:
        query:
          block: "li[class='next']"
          selector: "a attribute: href"        
        items: [ 
          item: { name: "link",  
           linkGroup: booksGroup, prefix: [ "/devdefs/books/page/" ] },
        ]

  snapshot:
    defs:
      snapshot:        
        query:
          block: "div#snapshot"
          selector: "div:matchesOwn(^%{item.match}) + div"
        items: [ 
          item: { name: "MC", match: "MARKET CAP" },          
          item: { name: "PE", match: "P/E" },
        ]  
        dim: [ 
          item: { name: "date", script: "document.getFromDate()" },
        ]

  bs:
    defs:
      snapshot:        
        query:
          block: "table:contains(Sources Of Funds)"       
        items:  
          - item:
              name: item
              nameSelector: "tr:nth-child(%{index}) > td:nth-child(1)"
              selector: "tr:nth-child(%{index}) > td:nth-child(%{item.year.index})"              
              index: 5
              breakAfter: 
                - "Book Value (Rs)"
              filters:
                - filter: { value: ["", "Sources Of Funds", "Application Of Funds"]} 
        dim:  
          - item:
              name: year
              selector: "tr:nth-child(1) > td:nth-child(%{index})"
              indexRange: 2-6

  links:
    defs:
      booksLink:
        block: "#page_links > table > tbody > tr > td:nth-child(4) > ul"
        selector: "li:nth-child(%{item.index}) > a[href] attribute: href"        
        items: [ 
          item: { name: "bs", index: 2, linkGroup: bsGroup, 
                  prefix: [ "/defs/examples/page/" ] },
          item: { name: "pl", index: 3, linkGroup: plGroup, 
                  prefix: [ "/defs/examples/page/" ] },                  
        ]
 
 
