locatorGroups:
  
  bsGroup:   
    locators: [
       { name: acme, url: "/defs/examples/fin/page/acme-bs.html" }  
    ]
                                        
taskGroups:

  bsGroup:
    bsTask:
      dataDef: bs
      steps: 
        jsoupTem:
          process:
            class: "org.codetab.scoopi.step.script.Scripter"
            previous: filter
            next: appender
            plugins: [
              plugin: { 
                name: script, 
                class: "org.codetab.scoopi.plugin.script.DataScript",
                script: "/devdefs/bsscript/script.js",
                entryPoint: "execute",
                scripts: [ "/devdefs/bsscript/moment.min.js"] }            
            ]
         
        
dataDefs:

  bs:
    query:
      block: "table:contains(Sources Of Funds)"
      selector: "tr:nth-child(%{item.index}) > td:nth-child(%{dim.year.index})"       
    items:  
      - item:
          name: item
          selector: "tr:nth-child(%{index}) > td:nth-child(1)"                        
          index: 3
          breakAfter:
            - "Reserves"
          filters: [ 
            filter: { type: value, pattern: "" },
            filter: { type: value, pattern: "Sources Of Funds" },
            filter: { type: value, pattern: "Application Of Funds" },                   
          ]   
    dims:  
      - item:
          name: year
          selector: "tr:nth-child(1) > td:nth-child(%{index})"
          indexRange: 2-2
      
steps:
  jsoupTem:
    seeder:
      class: "org.codetab.scoopi.step.extract.LocatorSeeder"
      previous: start
      next: loader
    loader:
      class: "org.codetab.scoopi.step.extract.PageLoader"
      previous: seeder
      next: parser
    parser:
      class: "org.codetab.scoopi.step.parse.jsoup.Parser"
      previous: loader
      next: filter
    filter:
      class: "org.codetab.scoopi.step.process.DataFilter"
      previous: parser
      next: appender
    appender:
      class: "org.codetab.scoopi.step.load.DataAppender"
      previous: filter
      next: end
      plugins: [
        plugin: { 
          name: file, 
          class: "org.codetab.scoopi.plugin.appender.FileAppender",
          file: "output/data.txt", 
          plugins: [ 
             plugin: { 
               name: csv,
               delimiter: "|",               
               class: "org.codetab.scoopi.plugin.encoder.CsvEncoder"
             } 
          ]
        }          
      ]            
    
      
                  
