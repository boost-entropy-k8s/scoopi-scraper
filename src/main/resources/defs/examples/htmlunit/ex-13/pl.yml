taskGroups:

  plGroup:

    plTask:
      dataDef: pl
      steps:
        htmlUnitDefault:
          converter:
            class: "org.codetab.scoopi.step.convert.DataConverter"
            previous: process
            next: appender           
            plugins: [
              plugin: { 
                     name: converter, 
                     class: "org.codetab.scoopi.plugin.converter.DateRoller", 
                     axis: col, 
                     inPattern: "MMM ''YY", 
                     outPattern: "yyyy-MM-dd", 
                     roll: "DAY_OF_MONTH=ceil" }            
           ]      

dataDefs:

  pl:
    axis:
      fact:
        query:
          region: "//table//*[count(*)=0 and contains(.,'Employee Cost')]/ancestor::table[1]" 
          field: "*//*[.='%{row.value}']/following-sibling::td[%{col.index}-1]"  
      col:
        query:
          region: "//table//*[count(*)=0 and contains(.,'Employee Cost')]/ancestor::table[1]"
          field: "*//tr[1]/td[%{col.index}]"       
        items: [ 
          item: {name: year, indexRange: 2-6},
        ]  
      row:
        query:
          region: "//table//*[count(*)=0 and contains(.,'Employee Cost')]/ancestor::table[1]"
          field: "*//tr[%{row.index}+0]/td[1]" 
        items: [ 
          item: {name: item, index: 6, breakAfter: ["Book Value (Rs)"] },
        ]
        filters: [ 
          filter: { type: value, pattern: "" },
          filter: { type: value, pattern: "Expenditure" },
          filter: { type: value, pattern: "Per share data (annualised)" },       
        ]       
